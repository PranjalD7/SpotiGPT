<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SpotGPt</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="stylesheet.css">
    <script >
    function getArt()
    {



        fetch("http://localhost:8080/api/user-top-artists").then(response=>response.json()).then(data=>{
            console.log(data);

            let artist='';
            let genre='';
            for(let i = 0; i <5; i++) {
                let obj = data[i];

                artist+=obj.name+',';

                 for(let k=0;k<2;k++)
                 {
                   genre+= obj.genres[k] +",";
                 }
            }
            console.log(artist)
            console.log(genre)

            let call="Recommend me some songs based on these genres "+genre;
            console.log(call)



            let url="http://localhost:8080/chat?prompt="+call;



            let response =  fetch(url)  .then(function(response) {
                return response.text();
            }).then(function(data) {
                console.log(data); // this will be a string
            });



        })


        return false;
    }

    </script>
  </head>
  <body>
    <nav class="navbar navbar-custom">
        <a class="navbar-brand " href="#">
          <h3>SpotGPT</h3>
      </a>
    </nav>
    <div class="text-center">
    <form action="" >
     <button type="button" class="btn btn-success" onclick= 'return getArt();'><h3>Artists</h3></button>
     <span id="ch">

     </span>
    </form>
    </div>
  </body>
  <!--<script>function getArt()
  {



      fetch("http://localhost:8080/api/user-top-artists").then(response=>response.json()).then(data=>{
          console.log(data);

          let artist='';
          let genre='';
          for(let i = 0; i <5; i++) {
              let obj = data[i];

              artist+=obj.name+',';

               for(let k=0;k<2;k++)
               {
                 genre+= obj.genres[k] +",";
               }
          }
          console.log(artist)
          console.log(genre)

          let call="Recommend me some songs based on these genres "+genre;
          console.log(call)



          let url="http://localhost:8080/chat?prompt="+call;



          let response =  fetch(url)  .then(function(response) {
              return response.text();
          }).then(function(data) {
              console.log(data); // this will be a string
          });



      })


      return false;
  }
</script>-->
</html>
